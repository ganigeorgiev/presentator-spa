(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a631132"],{"11b2":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{ref:"slotWrapper"},[e._t("default")],2)])},n=[],o={name:"relocator",props:{container:{default:"body"}},computed:{containerElem:function(){return"string"===typeof this.container?document.querySelector(this.container):this.container}},mounted:function(){var e=this;if(this.containerElem){var t=this.$refs.slotWrapper;t.parentNode.removeChild(t),this.containerElem.appendChild(t),this.$once("hook:beforeDestroy",(function(){t&&(t.parentNode.removeChild(t),e.$el.appendChild(t))}))}}},r=o,a=i("2877"),c=Object(a["a"])(r,s,n,!1,null,null,null);t["a"]=c.exports},3905:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"popupContainer",staticClass:"popup",class:{active:e.isActive,"is-closing":e.isClosing},attrs:{tabindex:"-1"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])||t.target!==t.currentTarget?null:void(!e.closeOnEsc||e.close())}}},[i("div",{staticClass:"popup-overlay",on:{click:function(t){t.preventDefault(),!e.closeOnOverlay||e.close()}}}),i("div",{staticClass:"popup-panel"},[e.closeBtn?i("span",{staticClass:"popup-close-handle popup-close",on:{click:function(t){return t.preventDefault(),e.close()}}}):e._e(),i("div",{staticClass:"popup-header"},[e._t("header")],2),i("div",{staticClass:"popup-content"},[e._t("content")],2),i("div",{staticClass:"popup-footer"},[e._t("footer")],2)])])},n=[],o={name:"popup",props:{closeOnEsc:{type:Boolean,default:!0},closeOnOverlay:{type:Boolean,default:!0},closeBtn:{type:Boolean,default:!0}},data:function(){return{isActive:!1,isClosing:!1}},methods:{open:function(){var e=this;this.isActive=!0,this.isClosing=!1,this.$nextTick((function(){e.$refs.popupContainer.focus()})),document.body.classList.add("popup-active"),this.$nextTick((function(){var t=e.$el.querySelector("form input");t&&t.focus()}))},close:function(){var e=this;this.isActive&&(this.isClosing=!0,document.body.classList.remove("popup-active"),this.closingTimeoutId&&clearTimeout(this.closingTimeoutId),this.closingTimeoutId=setTimeout((function(){e.isActive=!1,e.isClosing=!1}),300))}}},r=o,a=i("2877"),c=Object(a["a"])(r,s,n,!1,null,null,null);t["a"]=c.exports},"9c86":function(e,t,i){"use strict";i.d(t,"a",(function(){return u}));var s=i("d225"),n=i("b0b4"),o=i("308d"),r=i("6bb5"),a=i("2a88"),c=i("4e2b"),l=i("9242"),p=i("dd93"),u=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(n["a"])(t,[{key:"load",value:function(e){e=e||{},Object(a["a"])(Object(r["a"])(t.prototype),"load",this).call(this,e),this.title=p["a"].isEmpty(e.title)?"":e.title,this.archived=p["a"].isEmpty(e.archived)?0:e.archived<<0,this.pinned=p["a"].isEmpty(e.pinned)?0:e.pinned<<0,this.featuredScreen=p["a"].isEmpty(e.featuredScreen)?{}:e.featuredScreen}},{key:"getFeaturedScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.featuredScreen[e]||this.featuredScreen["original"]||""}},{key:"isArchived",get:function(){return!!this.archived}},{key:"isPinned",get:function(){return!!this.pinned}}]),t}(l["a"])},aef6:function(e,t,i){"use strict";var s=i("5ca1"),n=i("9def"),o=i("d2c8"),r="endsWith",a=""[r];s(s.P+s.F*i("5147")(r),"String",{endsWith:function(e){var t=o(this,e,r),i=arguments.length>1?arguments[1]:void 0,s=n(t.length),c=void 0===i?s:Math.min(n(i),s),l=String(e);return a?a.call(t,l,c):t.slice(c-l.length,c)===l}})},ba5d:function(e,t,i){"use strict";i.d(t,"a",(function(){return v}));i("aef6");var s=i("d225"),n=i("b0b4"),o=i("308d"),r=i("6bb5"),a=i("2a88"),c=i("4e2b"),l=i("9242"),p=i("72a1"),u=i("9c86"),d=i("dd93"),v=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(r["a"])(t).apply(this,arguments))}return Object(c["a"])(t,e),Object(n["a"])(t,[{key:"load",value:function(e){e=e||{},Object(a["a"])(Object(r["a"])(t.prototype),"load",this).call(this,e),this.projectId=d["a"].isEmpty(e.projectId)?null:e.projectId,this.slug=d["a"].isEmpty(e.slug)?"":e.slug,this.passwordProtected=!!e.passwordProtected,this.allowComments=!!e.allowComments,this.allowGuideline=!!e.allowGuideline,d["a"].isArray(e.prototypes)?this.prototypes=p["a"].createInstances(e.prototypes):this.prototypes=this.prototypes||[],this.project=null,d["a"].isEmpty(e.projectInfo)?e.project&&e.project instanceof u["a"]&&(this.project=e.project):this.project=new u["a"](e.projectInfo)}},{key:"baseUrl",get:function(){var e=d["a"].getNestedVal(window,"location.origin","");return d["a"].getNestedVal(window,"location.href","").indexOf("/#/")>0&&(e+="/#"),e=e.endsWith("/")?e.substring(0,e.length-1):e,e}},{key:"relativeUrl",get:function(){return"/"+this.slug}},{key:"fullUrl",get:function(){return this.baseUrl+this.relativeUrl}},{key:"prototypeIds",get:function(){var e=[];for(var t in this.prototypes)this.prototypes[t].id&&e.push(this.prototypes[t].id);return e}}]),t}(l["a"])},db9e:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"floating-bar preview-bar",class:{active:e.isActive,"responsive-show-more":e.isResponsiveShowMoreActive}},[i("div",{staticClass:"visibility-toggle",on:{click:function(t){return t.preventDefault(),e.toggle()}}},[i("span",{staticClass:"txt"},[e._v(e._s(e.isActive?e.$t("Hide"):e.$t("Show")))])]),i("div",{staticClass:"nav nav-left"},[e._t("left")],2),i("div",{staticClass:"nav nav-center"},[e.projectLink.allowGuideline?i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Guideline ({shortcut})",{shortcut:"G"}),expression:"$t('Guideline ({shortcut})', {shortcut: 'G'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.71",value:e.selfClick,expression:"selfClick",modifiers:{71:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-warning",attrs:{to:{name:"preview-guideline",params:{slug:e.projectLink.slug},query:{}},"active-class":"highlight"}},[i("i",{staticClass:"fe fe-book-open"})]):e._e(),i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Preview mode ({shortcut})",{shortcut:"P"}),expression:"$t('Preview mode ({shortcut})', {shortcut: 'P'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.80",value:e.selfClick,expression:"selfClick",modifiers:{80:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-success",attrs:{to:{name:"preview-prototype",params:Object.assign({},e.$route.params,{slug:e.projectLink.slug,prototypeId:e.activePrototypeId}),query:Object.assign({},e.$route.query,{mode:"preview"})},"exact-active-class":"highlight"}},[i("i",{staticClass:"fe fe-eye"})]),e.projectLink.allowComments?i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Comments mode ({shortcut})",{shortcut:"C"}),expression:"$t('Comments mode ({shortcut})', {shortcut: 'C'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.67",value:e.selfClick,expression:"selfClick",modifiers:{67:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-danger",attrs:{to:{name:"preview-prototype",params:Object.assign({},e.$route.params,{slug:e.projectLink.slug,prototypeId:e.activePrototypeId}),query:Object.assign({},e.$route.query,{mode:"comments"})},"exact-active-class":"highlight"}},["preview-prototype"==e.$route.name&&e.totalActiveScreenUnresolvedComments>0?i("span",{staticClass:"pin",class:{animate:e.totalActiveScreenUnreadComments>0}},[e._v(" "+e._s(e.totalActiveScreenUnresolvedComments)+" ")]):e._e(),i("i",{staticClass:"fe fe-message-circle"})]):e._e(),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("More tools"),expression:"$t('More tools')",modifiers:{top:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-responsive-show-more responsive-only",on:{click:function(t){return t.preventDefault(),e.responsiveShowMore(t)}}},[i("i",{staticClass:"fe fe-more-horizontal"})])],1),i("div",{staticClass:"nav nav-right"},[e._t("right"),i("div",{staticClass:"ctrl-item ctrl-item-circle ctrl-item-settings"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:e.$t("Preview info"),expression:"$t('Preview info')",modifiers:{top:!0}}]},[i("i",{staticClass:"fe fe-info"})]),i("preview-info-popover",{ref:"projectInfoPopover",staticClass:"transform-bottom-right",attrs:{project:e.project}})],1),i("div",{staticClass:"flex-fill-block responsive-only"}),i("div",{staticClass:"ctrl-item ctrl-item-circle ctrl-item-responsive-hide-more responsive-only",on:{click:function(t){return t.preventDefault(),e.responsiveHideMore(t)}}},[i("i",{staticClass:"fe fe-x"})])],2)])},n=[],o=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),r=i("2f62"),a=i("0abc"),c=i("3d48"),l=i("9c86"),p=i("ba5d"),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("toggler",{staticClass:"popover popover-sm preview-info-popover no-clip",attrs:{hideOnChildClick:!1}},[i("div",{staticClass:"content txt-center"},[i("p",[i("strong",[e._v(e._s(e.project.title))])]),e.$getAppConfig("VUE_APP_PROJECT_URL")?i("p",{staticClass:"txt-hint txt-small"},[i("i18n",{attrs:{path:"Presented with {projectLink}."}},[i("a",{attrs:{slot:"projectLink",href:e.$getAppConfig("VUE_APP_PROJECT_URL"),target:"_blank",rel:"noopener"},slot:"projectLink"},[e._v("Presentator")])])],1):e._e(),i("div",{staticClass:"clearfix m-t-small"}),i("language-select"),e.$getAppConfig("VUE_APP_SHOW_SPAM_REPORT")<<0?[i("div",{staticClass:"clearfix m-t-small"}),i("small",{staticClass:"link-danger link-fade",on:{click:function(t){return t.preventDefault(),e.openReportPopup(t)}}},[i("i",{staticClass:"fe fe-flag m-r-5"}),i("span",{staticClass:"txt"},[e._v(e._s(e.$t("Report")))])])]:e._e()],2),i("relocator",[i("report-popup",{ref:"reportPopup"})],1)],1)},d=[],v=i("11b2"),f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("form",{on:{submit:function(t){return t.preventDefault(),e.submitForm()}}},[i("popup",{ref:"popup",staticClass:"popup-sm",scopedSlots:e._u([{key:"header",fn:function(){return[i("h4",{staticClass:"title"},[e._v(e._s(e.$t("Report this project for spam or abusive content")))])]},proxy:!0},{key:"content",fn:function(){return[i("form-field",{attrs:{name:"details"}},[i("label",{attrs:{for:"report_details"}},[e._v(e._s(e.$t("Additional details")))]),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.details,expression:"details",modifiers:{trim:!0}}],attrs:{id:"report_details"},domProps:{value:e.details},on:{input:function(t){t.target.composing||(e.details=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]},proxy:!0},{key:"footer",fn:function(){return[i("button",{staticClass:"btn btn-light-border",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.close()}}},[i("span",{staticClass:"txt"},[e._v(e._s(e.$t("Cancel")))])]),i("button",{staticClass:"btn btn-primary btn-cons btn-loader",class:{"btn-loader-active":e.isProcessing},attrs:{type:"submit"}},[i("span",{staticClass:"txt"},[e._v(e._s(e.$t("Report")))])])]},proxy:!0}])})],1)},m=[],h=(i("a481"),i("f744")),g=i("3905");function C(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?C(i,!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):C(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var y={name:"report-popup",components:{popup:g["a"]},data:function(){return{isProcessing:!1,details:""}},computed:b({},Object(r["d"])({previewToken:function(e){return e.preview.previewToken}})),methods:{open:function(){this.resetForm(),this.$refs.popup.open(),this.$emit("open")},close:function(){this.$refs.popup.close(),this.$emit("close")},resetForm:function(){this.details=""},submitForm:function(){var e=this;this.isProcessing||(this.isProcessing=!0,h["a"].Previews.report(this.previewToken,this.details).then((function(t){e.$toast(e.$t("Thank you, we will investigate and remove the project if found inappropriate."),"success",6e3),e.$router.replace({name:"home"})})).catch((function(t){e.$errResponseHandler(t)})).finally((function(){e.isProcessing=!1})))}}},_=y,w=i("2877"),j=Object(w["a"])(_,f,m,!1,null,null,null),O=j.exports,k=i("f7ef"),P={name:"preview-info-popover",components:{relocator:v["a"],"report-popup":O,"language-select":k["a"]},props:{project:{type:l["a"],required:!0}},methods:{openReportPopup:function(){this.$refs.reportPopup&&this.$refs.reportPopup.open()}}},S=P,$=Object(w["a"])(S,u,d,!1,null,null,null),E=$.exports;function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(i,!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var I={name:"preview-bar",components:{"preview-info-popover":E},props:{project:{type:l["a"],required:!0},projectLink:{type:p["a"],required:!0}},data:function(){return{isActive:!0,isResponsiveShowMoreActive:!1}},computed:x({},Object(r["d"])({activePrototypeId:function(e){return e.prototypes.activePrototypeId},activeScreenId:function(e){return e.screens.activeScreenId}}),{},Object(r["c"])({getCommentsForScreen:"comments/getCommentsForScreen",getUnreadCommentsForScreen:"notifications/getUnreadCommentsForScreen"}),{activeScreenComments:function(){return this.getCommentsForScreen(this.activeScreenId)},totalActiveScreenComments:function(){return this.activeScreenComments.length},activeScreenResolvedComments:function(){return this.getCommentsForScreen(this.activeScreenId,"resolved")},totalActiveScreenResolvedComments:function(){return this.activeScreenResolvedComments.length},activeScreenUnreadComments:function(){return this.getUnreadCommentsForScreen(this.activeScreenId)},totalActiveScreenUnreadComments:function(){return this.activeScreenUnreadComments.length},totalActiveScreenUnresolvedComments:function(){return this.totalActiveScreenComments-this.totalActiveScreenResolvedComments}}),mounted:function(){var e=c["a"].getItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0);e?this.show():this.hide()},methods:{show:function(){this.isActive=!0,c["a"].setItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0),this.responsiveHideMore(),this.$emit("show")},hide:function(){this.isActive=!1,c["a"].setItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!1),this.responsiveHideMore(),this.$emit("hide")},toggle:function(){this.isActive?this.hide():this.show()},responsiveShowMore:function(){this.isResponsiveShowMoreActive=!0},responsiveHideMore:function(){this.isResponsiveShowMoreActive=!1},goToGuideline:function(){this.$router.push({name:"preview-guideline",params:{slug:this.projectLink.slug}})},selfClick:function(e,t){t&&t.click()}}},R=I,L=Object(w["a"])(R,s,n,!1,null,null,null);t["a"]=L.exports},f7ef:function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"languages-select",class:{loading:e.isChanging}},[i("div",{staticClass:"selected-language"},[i("span",{staticClass:"txt language-title"},[e._v(e._s(e.activeLanguageTitle))]),e._v(" ("),i("span",{staticClass:"txt language-code"},[e._v(e._s(e.activeLanguageCode))]),e._v(") ")]),i("toggler",{staticClass:"dropdown dropdown-sm"},e._l(e.languages,(function(t,s){return i("div",{key:"language_"+s,staticClass:"dropdown-item",class:{active:e.activeLanguageCode==s},on:{click:function(t){return t.preventDefault(),e.changeLanguage(s)}}},[i("small",{staticClass:"label language-code m-r-5",class:e.activeLanguageCode==s?"label-transp-primary":"label-light-border"},[e._v(e._s(s))]),i("span",{staticClass:"txt language-title"},[e._v(e._s(t))])])})),0)],1)},n=[],o=i("9225"),r={name:"languages-select",data:function(){return{isChanging:!1,languages:Object.assign({},o["c"])}},watch:{"$i18n.locale":function(e,t){"function"===typeof document._titleFunc&&this.$setDocumentTitle(document._titleFunc)}},computed:{activeLanguageCode:function(){return this.$i18n.locale},activeLanguageTitle:function(){return this.languages[this.activeLanguageCode]}},methods:{changeLanguage:function(e){var t=this;this.isChanging=!0,Object(o["a"])(e).finally((function(){t.isChanging=!1}))}}},a=r,c=i("2877"),l=Object(c["a"])(a,s,n,!1,null,null,null);t["a"]=l.exports}}]);