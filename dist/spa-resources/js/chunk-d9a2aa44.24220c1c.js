(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d9a2aa44"],{"097d":function(t,e,s){"use strict";var i=s("5ca1"),a=s("8378"),r=s("7726"),o=s("ebd6"),n=s("bcaa");i(i.P+i.R,"Promise",{finally:function(t){var e=o(this,a.Promise||r.Promise),s="function"==typeof t;return this.then(s?function(s){return n(e,t()).then((function(){return s}))}:t,s?function(s){return n(e,t()).then((function(){throw s}))}:t)}})},"1efe":function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));var i=s("9242"),a=s("9300"),r=s("dd93");class o extends i["a"]{load(t){t=t||{},super.load(t),this.projectId=r["a"].isEmpty(t.projectId)?null:t.projectId,this.order=r["a"].isEmpty(t.order)?1:t.order<<0,this.title=r["a"].isEmpty(t.title)?"":t.title,this.description=r["a"].isEmpty(t.description)?"":t.description,r["a"].isArray(t.assets)?this.assets=a["a"].createInstances(t.assets):this.assets=this.assets||[]}}},"795d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"preview-container-wrapper"},[s("div",{staticClass:"preview-container"},[t.isLoadingAssets?[s("div",{staticClass:"flex-fill-block"}),t._m(0)]:t._e(),t.isLoadingAssets||t.hasAssets?t._e():[s("div",{staticClass:"flex-fill-block"}),s("div",{staticClass:"block scroll-block txt-center p-base"},[t._m(1),s("h4",[t._v(t._s(t.$t("No guideline assets to show.")))])])],!t.isLoadingAssets&&t.hasAssets?s("div",{staticClass:"guideline-sections-list scroll-block p-base"},[s("h3",{staticClass:"m-t-0 m-b-base"},[t._v(t._s(t.$t("{projectTitle} guideline",{projectTitle:t.project.title})))]),t._l(t.orderedGuidelineSections,(function(e){return e.assets.length>0?s("guideline-section-preview",{key:e.id,attrs:{section:e}}):t._e()}))],2):t._e(),s("div",{staticClass:"flex-fill-block"}),s("preview-bar",{attrs:{project:t.project,projectLink:t.projectLink}})],2)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"block txt-center"},[s("span",{staticClass:"loader loader-lg loader-blend"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{staticClass:"mockup m-b-small"},[s("div",{staticClass:"mockup-bg"}),s("div",{staticClass:"browser secondary"}),s("div",{staticClass:"browser primary"},[s("i",{staticClass:"fe fe-book-open"})])])}],r=(s("ac6a"),s("097d"),s("55dd"),s("ade3")),o=s("2f62"),n=s("f744"),l=s("9c86"),c=s("ba5d"),p=s("1efe"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"guideline-section"},[s("header",{staticClass:"section-header"},[s("h5",{staticClass:"title"},[t._v(t._s(t.section.title))]),t.section.description?[t._v(" ("),s("div",{staticClass:"description"},[t._v(t._s(t.section.description))]),t._v(") ")]:t._e(),s("div",{staticClass:"flex-fill-block"}),s("div",{staticClass:"ctrl-item toggle-ctrl",on:{click:function(e){return e.preventDefault(),t.toggleSection()}}},[t.collapsed?[s("span",{staticClass:"txt m-r-5 txt-default"},[t._v(t._s(t.$t("Expand")))]),s("i",{staticClass:"fe fe-chevron-down"})]:[s("span",{staticClass:"txt m-r-5"},[t._v(t._s(t.$t("Collapse")))]),s("i",{staticClass:"fe fe-chevron-up"})]],2)],2),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"section-content"},[s("div",{staticClass:"boxes-list assets-list"},t._l(t.orderedAssets,(function(t){return s("asset-box-preview",{key:t.id,attrs:{asset:t}})})),1)])])},u=[],f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box box-card box-compact",class:{"box-color":t.asset.isColor},on:{mouseleave:function(e){!t.$refs.assetDropdown||t.$refs.assetDropdown.hide()}}},[s("figure",{staticClass:"box-thumb",style:{background:t.asset.hex}},[t.asset.isFile?[s("div",{staticClass:"crop-wrapper"},[t.asset.isImage?s("img",{staticClass:"img",attrs:{src:t.asset.getFileUrl("medium"),alt:t.asset.title}}):s("span",{staticClass:"img img-alt"},[t._v(t._s(t.asset.fileExtension))])])]:t._e(),s("div",{staticClass:"thumb-overlay"},[t.asset.isImage?[s("div",{staticClass:"overlay-ctrl",on:{click:function(e){return e.preventDefault(),t.openPreviewPopup()}}}),s("div",{staticClass:"box-ctrl handle center",on:{click:function(e){return e.preventDefault(),t.openPreviewPopup()}}},[s("i",{staticClass:"fe fe-eye"})])]:t._e(),s("div",{staticClass:"box-ctrl handle top-right"},[s("i",{staticClass:"fe fe-more-horizontal",style:{color:t.asset.isColor?t.asset.contrastHex:null}}),s("toggler",{ref:"assetDropdown",staticClass:"dropdown dropdown-sm"},[t.asset.isFile?s("a",{staticClass:"dropdown-item",attrs:{href:t.asset.getFileUrl(),tabindex:"-1",download:"",target:"_blank",rel:"noopener"}},[s("i",{staticClass:"fe fe-download"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Download")))])]):t._e(),t.asset.isColor?s("div",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.copyToClipboard(t.asset.hex.toUpperCase())}}},[s("i",{staticClass:"fe fe-copy"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Copy"))+" HEX")])]):t._e(),t.asset.isColor?s("div",{staticClass:"dropdown-item",on:{click:function(e){e.preventDefault(),t.copyToClipboard(t.asset.rgb.toUpperCase())}}},[s("i",{staticClass:"fe fe-copy"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Copy"))+" RGB")])]):t._e()])],1)],2)],2),s("div",{staticClass:"box-content"},[t.asset.isFile?[t.asset.isImage?s("div",{staticClass:"title",attrs:{title:t.asset.title},on:{click:function(e){return e.preventDefault(),t.openPreviewPopup()}}},[t._v(" "+t._s(t.asset.title)+" ")]):s("a",{staticClass:"title",attrs:{target:"_blank",rel:"noopener",download:"",href:t.asset.getFileUrl(),title:t.asset.title}},[t._v(" "+t._s(t.asset.title)+" ")]),s("div",{staticClass:"meta"},[s("div",{staticClass:"meta-item txt-uppercase"},[t._v(t._s(t.asset.fileExtension))]),t.asset.isImage&&t.assetWidth>0&&t.assetHeight>0?s("div",{staticClass:"meta-item"},[t._v(" "+t._s(t.assetWidth)+"x"+t._s(t.assetHeight)+" ")]):t._e()])]:[s("div",{staticClass:"title cursor-default",attrs:{title:t.asset.title}},[t._v(t._s(t.asset.title))]),s("div",{staticClass:"meta"},[s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("Copy"),expression:"$t('Copy')",modifiers:{bottom:!0}}],staticClass:"meta-item",on:{click:function(e){e.preventDefault(),t.copyToClipboard(t.asset.hex.toUpperCase())}}},[t._v(" "+t._s(t.asset.hex.toUpperCase())+" ")]),s("div",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:t.$t("Copy"),expression:"$t('Copy')",modifiers:{bottom:!0}}],staticClass:"meta-item",on:{click:function(e){e.preventDefault(),t.copyToClipboard(t.asset.rgb.toUpperCase())}}},[t._v(" "+t._s(t.asset.rgb.toUpperCase())+" ")])])]],2),t.asset.isImage?s("relocator",[s("popup",{key:"asset_popup_"+t.asset.id,ref:"previewPopup",staticClass:"popup-image",scopedSlots:t._u([{key:"content",fn:function(){return[t.$refs.previewPopup&&t.$refs.previewPopup.isActive?s("img",{attrs:{src:t.asset.getFileUrl("original"),alt:t.asset.title}}):t._e()]},proxy:!0}],null,!1,4169098407)})],1):t._e()],1)},v=[],h=s("dd93"),g=s("9300"),m=s("11b2"),b=s("3905"),C={name:"asset-box-preview",components:{relocator:m["a"],popup:b["a"]},props:{asset:{type:g["a"],required:!0}},data(){return{assetWidth:0,assetHeight:0}},mounted(){this.asset.isImage&&h["a"].loadImage(this.asset.getFileUrl()).then(t=>{this.assetWidth=t.width,this.assetHeight=t.height})},methods:{copyToClipboard(t){h["a"].copyToClipboard(t)?this.$toast(this.$t("Successfully copied {text} to clipboard.",{text:t})):this.$toast(this.$t("Failed copying {text} to clipboard.",{text:t}),"danger")},openPreviewPopup(){this.$refs.previewPopup&&this.$refs.previewPopup.open()},closePreviewPopup(){this.$refs.previewPopup&&this.$refs.previewPopup.close()}}},w=C,_=s("2877"),y=Object(_["a"])(w,f,v,!1,null,null,null),x=y.exports,k={name:"guideline-section-preview",props:{section:{type:p["a"],required:!0}},components:{"asset-box-preview":x},data(){return{collapsed:!1}},computed:{orderedAssets(){return this.section.assets.slice().sort((t,e)=>t["order"]-e["order"])}},methods:{toggleSection(){this.collapsed=!this.collapsed}}},j=k,P=Object(_["a"])(j,d,u,!1,null,null,null),$=P.exports,E=s("db9e");function O(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function A(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?O(Object(s),!0).forEach((function(e){Object(r["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):O(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var D={name:"preview-guideline",props:{project:{type:l["a"],required:!0},projectLink:{type:c["a"],required:!0}},components:{"guideline-section-preview":$,"preview-bar":E["a"]},data(){return{isLoadingAssets:!1,guidelineSections:[],isPreviewBarActive:!0}},computed:A(A({},Object(o["d"])({previewToken:t=>t.preview.previewToken})),{},{orderedGuidelineSections(){return this.guidelineSections.slice().sort((t,e)=>t["order"]-e["order"])},hasAssets(){for(let t in this.guidelineSections)if(this.guidelineSections[t].assets&&this.guidelineSections[t].assets.length>0)return!0;return!1}}),activated(){this.$setDocumentTitle(()=>this.$t("{projectTitle} guideline",{projectTitle:this.project.title}))},beforeMount(){this.loadAssets()},methods:{loadAssets(){this.isLoadingAssets||(this.isLoadingAssets=!0,n["a"].Previews.getAssets(this.previewToken).then(t=>{this.guidelineSections=p["a"].createInstances(t.data)}).catch(t=>{this.$errResponseHandler(t)}).finally(()=>{this.isLoadingAssets=!1}))}}},S=D,I=Object(_["a"])(S,i,a,!1,null,null,null);e["default"]=I.exports},9300:function(t,e,s){"use strict";s.d(e,"a",(function(){return o}));s("28a5");var i=s("9242"),a=s("dd93");const r=["png","jpg","jpeg","svg","bmp"];class o extends i["a"]{load(t){t=t||{},super.load(t),this.guidelineSectionId=a["a"].isEmpty(t.guidelineSectionId)?null:t.guidelineSectionId,this.type=a["a"].isEmpty(t.type)?"file":t.type,this.order=a["a"].isEmpty(t.order)?1:t.order,this.hex=a["a"].isEmpty(t.hex)?"":t.hex,this.title=a["a"].isEmpty(t.title)?"":t.title,this.file=a["a"].isEmpty(t.file)?{}:t.file}get isFile(){return"file"===this.type}get isColor(){return"color"===this.type}get contrastHex(){return this.isColor?a["a"].getContrastHex(this.hex):""}get rgb(){var t=a["a"].hexToRgb(this.hex);return"rgb("+t.r+", "+t.g+", "+t.b+")"}get fileExtension(){return this.isFile&&this.file.original?this.file.original.split(".").pop():""}get isImage(){return this.isFile&&this.file.original&&r.indexOf(this.fileExtension)>=0}getFileUrl(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.file[t]||this.file["original"]||""}}},a5b8:function(t,e,s){"use strict";var i=s("d8e8");function a(t){var e,s;this.promise=new t((function(t,i){if(void 0!==e||void 0!==s)throw TypeError("Bad Promise constructor");e=t,s=i})),this.resolve=i(e),this.reject=i(s)}t.exports.f=function(t){return new a(t)}},bcaa:function(t,e,s){var i=s("cb7c"),a=s("d3f4"),r=s("a5b8");t.exports=function(t,e){if(i(t),a(e)&&e.constructor===t)return e;var s=r.f(t),o=s.resolve;return o(e),s.promise}}}]);