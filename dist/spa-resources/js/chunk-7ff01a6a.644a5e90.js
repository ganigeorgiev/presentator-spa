(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ff01a6a"],{"35c6":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("app-sidebar",[s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Projects"),expression:"$t('Projects')",modifiers:{right:!0}}],staticClass:"menu-item",attrs:{to:{name:"projects"},"active-class":"active"}},[s("i",{staticClass:"fe fe-grid"})]),t.loggedUser.isSuperUser?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Users"),expression:"$t('Users')",modifiers:{right:!0}}],staticClass:"menu-item",attrs:{to:{name:"users"},"active-class":"active"}},[s("i",{staticClass:"fe fe-users"})]):t.loggedUser.id?s("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Account settings"),expression:"$t('Account settings')",modifiers:{right:!0}}],staticClass:"menu-item",attrs:{to:{name:"user",params:{userId:t.loggedUser.id}},"active-class":"active"}},[s("i",{staticClass:"fe fe-user"})]):t._e()],1)},i=[],a=(s("ac6a"),s("ade3")),o=s("2f62"),c=s("4eee");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,r)}return s}function l(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){Object(a["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var p={name:"home-sidebar",components:{"app-sidebar":c["a"]},computed:l({},Object(o["d"])({loggedUser:t=>t.user.user}))},d=p,h=s("2877"),u=Object(h["a"])(d,r,i,!1,null,null,null);e["a"]=u.exports},c746:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-body"},[s("home-sidebar"),s("main",{staticClass:"app-main"},[s("header",{staticClass:"app-header"},[s("nav",{staticClass:"breadcrumbs"},[s("div",{staticClass:"breadcrumb-item active"},[t._v(t._s(t.$t("Projects")))])]),s("div",{staticClass:"flex-fill-block"}),s("button",{staticClass:"btn btn-cons-lg btn-success m-l-10",on:{click:function(e){e.preventDefault(),!t.$refs.projectsListing||t.$refs.projectsListing.openCreatePopup()}}},[s("i",{staticClass:"fe fe-plus"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("New project")))])])]),s("projects-listing",{ref:"projectsListing"}),s("div",{staticClass:"flex-fill-block"}),s("app-footer",{staticClass:"m-t-base"})],1)],1)},i=[],a=s("438c"),o=s("35c6"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.withFilterBar?s("div",{staticClass:"search-bar"},[s("div",{staticClass:"search-filter-wrapper"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.archived,expression:"archived"}],staticClass:"search-filter",on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.archived=e.target.multiple?s:s[0]},function(e){return t.loadProjects()}]}},[s("option",{attrs:{value:""}},[t._v(t._s(t.$t("All projects"))+" ")]),s("option",{attrs:{value:"0"}},[t._v(t._s(t.$t("Active projects"))+" ")]),s("option",{attrs:{value:"1"}},[t._v(t._s(t.$t("Archived projects"))+" ")])])]),s("div",{staticClass:"search-input-wrapper",class:{active:t.searchTerm.length>0}},[s("span",{directives:[{name:"tooltip",rawName:"v-tooltip.left",value:t.$t("Clear"),expression:"$t('Clear')",modifiers:{left:!0}}],staticClass:"search-clear",on:{click:function(e){return e.preventDefault(),t.clearSearch()}}}),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.searchTerm,expression:"searchTerm",modifiers:{trim:!0}}],staticClass:"search-input",attrs:{type:"input",placeholder:t.searchPlaceholder},domProps:{value:t.searchTerm},on:{input:[function(e){e.target.composing||(t.searchTerm=e.target.value.trim())},t.onSearchInputChange],blur:function(e){return t.$forceUpdate()}}})])]):t._e(),s("div",{staticClass:"block txt-center txt-hint"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.projects.length&&t.isLoadingProjects,expression:"!projects.length && isLoadingProjects"}],staticClass:"loader loader-lg loader-blend m-b-base"}),s("h4",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters&&!t.projects.length&&!t.isLoadingProjects,expression:"hasActiveFilters && !projects.length && !isLoadingProjects"}],staticClass:"m-b-25"},[t._v(" "+t._s(t.$t("No projects were found."))+" ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasActiveFilters&&!t.projects.length&&!t.isLoadingProjects,expression:"!hasActiveFilters && !projects.length && !isLoadingProjects"}],staticClass:"m-b-base"},[t._m(0),s("div",{staticClass:"content m-b-base"},[s("h4",{staticClass:"txt-default"},[t._v(t._s(t.$t("You don't have any active projects.")))]),s("p",[t._v(t._s(t.$t("Create a project to share your designs, collect feedback and more.")))])]),s("button",{staticClass:"btn btn-success btn-lg btn-cons-xl btn-loader",on:{click:function(e){return e.preventDefault(),t.openCreatePopup.apply(null,arguments)}}},[s("i",{staticClass:"fe fe-plus"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("New project")))])])])]),s("h5",{directives:[{name:"show",rawName:"v-show",value:!t.isLoadingProjects&&t.projects.length&&t.searchTerm.length>0,expression:"!isLoadingProjects && projects.length && searchTerm.length > 0"}],staticClass:"m-t-0 m-b-small"},[t._v(" "+t._s(t.$t('Search results for "{searchTerm}" ({totalFound}):',{searchTerm:t.searchTerm,totalFound:t.totalProjects}))+" ")]),s("div",{staticClass:"boxes-list projects-list pinned-projects"},t._l(t.pinnedProjects,(function(e){return s("project-box",{key:e.id+"_pinned",attrs:{project:e},on:{projectUpdate:t.onProjectUpdate,projectDelete:t.onProjectDelete}})})),1),s("hr",{directives:[{name:"show",rawName:"v-show",value:t.pinnedProjects.length&&t.unpinnedProjects.length,expression:"pinnedProjects.length && unpinnedProjects.length"}],staticClass:"dark m-b-base"}),s("div",{staticClass:"boxes-list projects-list unpinned-projects"},t._l(t.unpinnedProjects,(function(e){return s("project-box",{key:e.id+"_unpinned",attrs:{project:e},on:{projectUpdate:t.onProjectUpdate,projectDelete:t.onProjectDelete}})})),1),s("div",{staticClass:"block txt-center"},[s("button",{directives:[{name:"show",rawName:"v-show",value:t.hasActiveFilters,expression:"hasActiveFilters"}],staticClass:"btn btn-warning btn-lg btn-cons-xl m-l-small m-r-small",on:{click:function(e){return e.preventDefault(),t.resetFilters()}}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Reset filters")))])]),s("button",{directives:[{name:"show",rawName:"v-show",value:t.hasMoreProjects,expression:"hasMoreProjects"}],staticClass:"btn btn-transp-primary btn-lg btn-cons-xl btn-loader m-l-small m-r-small",class:{"btn-loader-active":t.isLoadingProjects},on:{click:function(e){return e.preventDefault(),t.loadProjects(t.currentPage+1,!1)}}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Load more projects")))])])]),s("relocator",[s("project-create-popup",{ref:"createPopup"})],1)],1)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{staticClass:"mockup m-t-base m-b-base"},[s("div",{staticClass:"mockup-bg"}),s("div",{staticClass:"browser secondary"}),s("div",{staticClass:"browser primary"},[s("i",{staticClass:"fe fe-grid"})])])}],l=(s("097d"),s("f744")),p=s("dd93"),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"box box-card",attrs:{"data-id":t.project.id},on:{mouseleave:function(e){!t.$refs.projectDropdown||t.$refs.projectDropdown.hide()}}},[s("figure",{staticClass:"box-thumb"},[s("div",{staticClass:"crop-wrapper"},[t.project.getFeaturedScreen("medium")&&!t.brokenThumb?s("img",{staticClass:"img",attrs:{src:t.project.getFeaturedScreen("medium"),alt:"Featured screen"},on:{error:function(e){t.brokenThumb=!0}}}):s("i",{staticClass:"fe fe-image img"})]),s("div",{staticClass:"thumb-overlay"},[s("router-link",{staticClass:"overlay-ctrl",attrs:{to:{name:"prototype",params:{projectId:t.project.id}}}}),s("router-link",{staticClass:"box-ctrl handle center",attrs:{to:{name:"prototype",params:{projectId:t.project.id}}}},[s("i",{staticClass:"fe fe-eye"})]),s("div",{staticClass:"box-ctrl handle top-right"},[s("i",{staticClass:"fe fe-more-horizontal"}),s("toggler",{ref:"projectDropdown",staticClass:"dropdown dropdown-sm"},[s("div",{staticClass:"dropdown-item",on:{click:function(e){return e.preventDefault(),t.updateArchivedState(!t.project.isArchived)}}},[s("i",{staticClass:"fe fe-archive"}),s("span",{staticClass:"txt"},[t._v(t._s(t.project.isArchived?t.$t("Unarchive"):t.$t("Archive")))])]),s("hr"),s("div",{staticClass:"dropdown-item link-danger",on:{click:function(e){return e.preventDefault(),t.deleteProject()}}},[s("i",{staticClass:"fe fe-trash"}),s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Delete")))])])])],1),t.project.isArchived?t._e():s("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.project.isPinned?t.$t("Unstar project"):t.$t("Star project"),expression:"project.isPinned ? $t('Unstar project') : $t('Star project')"}],staticClass:"box-ctrl handle top-left",class:{"txt-warning":t.project.isPinned},on:{click:function(e){return e.preventDefault(),t.updatePinnedState(!t.project.isPinned)}}},[s("i",{staticClass:"fe fe-star"})])],1)]),s("div",{staticClass:"box-content"},[s("div",{key:"title",ref:"titleLabel",staticClass:"title",attrs:{contenteditable:"true",spellcheck:"false",autocomplete:"off",title:t.$t("Click to edit"),"data-placeholder":t.project.title||t.$t("Title")},on:{blur:function(e){return t.saveTitle()},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.saveTitle())}}},[t._v(t._s(t.project.title))]),s("div",{staticClass:"meta"},[s("div",{staticClass:"meta-item"},[t._v(t._s(t.$t("Created {date}",{date:t.project.createdAtFromNow})))]),t.project.isArchived?s("div",{staticClass:"meta-item"},[s("span",{staticClass:"label label-transp-warning"},[t._v(t._s(t.$t("Archived")))])]):t._e()])])])},h=[],u=s("9c86"),v={name:"project-box",props:{project:{type:u["a"],required:!0}},data(){return{brokenThumb:!1}},methods:{updateArchivedState(t){var e="";e=t?this.$t('Do you really want to archive "{title}"?',{title:this.project.title}):this.$t('Do you really want to unarchive "{title}"?',{title:this.project.title}),window.confirm(e)&&l["a"].Projects.update(this.project.id,{archived:t?1:0}).then(t=>{this.project.load(t.data),this.$toast(this.$t("Successfully updated project archived state.")),this.$emit("projectUpdate",this.project)}).catch(t=>{this.$errResponseHandler(t)})},updatePinnedState(t){let e=t?1:0;l["a"].Projects.update(this.project.id,{pinned:e}),this.project.pinned=e,this.$emit("projectUpdate",this.project)},deleteProject(){window.confirm(this.$t('Do you really want to delete project "{title}"?',{title:this.project.title}))&&(l["a"].Projects.delete(this.project.id),this.$toast(this.$t('Successfully deleted project "{title}".',{title:this.project.title})),this.$emit("projectDelete",this.project.id))},saveTitle(){this.$inlineTitleUpdate(this.$refs.titleLabel,this.project,l["a"].Projects.update)}}},m=v,f=s("2877"),j=Object(f["a"])(m,d,h,!1,null,null,null),g=j.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[s("popup",{ref:"popup",staticClass:"popup-sm",attrs:{closeOnEsc:!t.isProcessing,closeOnOverlay:!t.isProcessing,closeBtn:!t.isProcessing},scopedSlots:t._u([{key:"header",fn:function(){return[s("h4",{staticClass:"title"},[t._v(t._s(t.$t("New project")))])]},proxy:!0},{key:"content",fn:function(){return[s("form-field",{staticClass:"required",attrs:{name:"title"}},[s("label",{attrs:{for:"project_title"}},[t._v(t._s(t.$t("Project title")))]),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.title,expression:"title",modifiers:{trim:!0}}],attrs:{type:"text",id:"project_title",maxlength:"255",required:""},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),s("div",{staticClass:"outside-popup-content"},[s("div",{staticClass:"block txt-center txt-hint m-b-small"},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Project prototype")))])]),s("form-field",{staticClass:"form-group required options-toggle",attrs:{name:"type"}},[s("label",[t._v(t._s(t.$t("Type")))]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"toggle-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",name:"options",id:"type_desktop",value:"desktop"},domProps:{checked:t._q(t.type,"desktop")},on:{change:[function(e){t.type="desktop"},t.onTypeChange]}}),s("label",{attrs:{for:"type_desktop"}},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fe fe-monitor"})]),s("div",{staticClass:"txt"},[t._v(t._s(t.$t("Desktop")))])])])]),s("div",{staticClass:"col-6"},[s("div",{staticClass:"toggle-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio",name:"options",id:"type_mobile",value:"mobile"},domProps:{checked:t._q(t.type,"mobile")},on:{change:[function(e){t.type="mobile"},t.onTypeChange]}}),s("label",{attrs:{for:"type_mobile"}},[s("div",{staticClass:"icon"},[s("i",{staticClass:"fe fe-smartphone"})]),s("div",{staticClass:"txt"},[t._v(t._s(t.$t("Mobile device")))])])])])])]),"mobile"===t.type?s("div",{staticClass:"row"},[s("div",{class:"col-"+("other"===t.activeSize?"6":"12")},[s("div",{staticClass:"form-group"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.activeSize,expression:"activeSize"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.activeSize=e.target.multiple?s:s[0]}}},t._l(t.sizesList,(function(e,r){return s("option",{key:r,domProps:{value:r}},[t._v(t._s(t.$t(e.label)))])})),0)])]),"other"===t.activeSize?[s("div",{staticClass:"col-3"},[s("form-field",{attrs:{name:"width",showErrorMsg:!1}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.width,expression:"width",modifiers:{number:!0}}],attrs:{type:"number",placeholder:t.$t("Width"),title:t.$t("Width"),min:"100",step:"1",required:""},domProps:{value:t.width},on:{input:function(e){e.target.composing||(t.width=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1),s("div",{staticClass:"col-3"},[s("form-field",{attrs:{name:"height",showErrorMsg:!1}},[s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.height,expression:"height",modifiers:{number:!0}}],attrs:{type:"number",placeholder:t.$t("Height"),title:t.$t("Height"),min:"100",step:"1",required:""},domProps:{value:t.height},on:{input:function(e){e.target.composing||(t.height=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])],1)]:t._e()],2):t._e(),"desktop"===t.type?s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scaleFactor,expression:"scaleFactor"}],attrs:{type:"checkbox",id:"retina_rescale","true-value":"0.5","false-value":"1"},domProps:{checked:Array.isArray(t.scaleFactor)?t._i(t.scaleFactor,null)>-1:t._q(t.scaleFactor,"0.5")},on:{change:function(e){var s=t.scaleFactor,r=e.target,i=r.checked?"0.5":"1";if(Array.isArray(s)){var a=null,o=t._i(s,a);r.checked?o<0&&(t.scaleFactor=s.concat([a])):o>-1&&(t.scaleFactor=s.slice(0,o).concat(s.slice(o+1)))}else t.scaleFactor=i}}}),s("label",{attrs:{for:"retina_rescale"}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("2x retina scale")))]),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("For 2x pixel density designs"),expression:"$t('For 2x pixel density designs')",modifiers:{right:!0}}],staticClass:"fe fe-info link-hint m-l-5"})])]):s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.scaleFactor,expression:"scaleFactor"}],attrs:{type:"checkbox",id:"auto_rescale","true-value":"0","false-value":"1"},domProps:{checked:Array.isArray(t.scaleFactor)?t._i(t.scaleFactor,null)>-1:t._q(t.scaleFactor,"0")},on:{change:function(e){var s=t.scaleFactor,r=e.target,i=r.checked?"0":"1";if(Array.isArray(s)){var a=null,o=t._i(s,a);r.checked?o<0&&(t.scaleFactor=s.concat([a])):o>-1&&(t.scaleFactor=s.slice(0,o).concat(s.slice(o+1)))}else t.scaleFactor=i}}}),s("label",{attrs:{for:"auto_rescale"}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Auto scale")))]),s("i",{directives:[{name:"tooltip",rawName:"v-tooltip.right",value:t.$t("Auto scale/fit each screen to the device width"),expression:"$t('Auto scale/fit each screen to the device width')",modifiers:{right:!0}}],staticClass:"fe fe-info link-hint m-l-5"})])])],1)]},proxy:!0},{key:"footer",fn:function(){return[s("button",{directives:[{name:"show",rawName:"v-show",value:!t.isProcessing,expression:"!isProcessing"}],staticClass:"btn btn-light-border",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.close()}}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Cancel")))])]),s("div",{staticClass:"flex-fill-block"}),s("button",{staticClass:"btn btn-primary btn-cons btn-loader",class:{"btn-loader-active":t.isProcessing},attrs:{type:"submit"}},[s("span",{staticClass:"txt"},[t._v(t._s(t.$t("Create project")))])])]},proxy:!0}])})],1)},P=[],C=(s("ac6a"),s("3905")),y=s("72a1");const w=y["a"].getSizesList(),_={title:"",type:"desktop",width:100,height:100,scaleFactor:1,activeSize:Object.keys(w)[0]};var $={name:"project-create-popup",components:{popup:C["a"]},data(){return{isProcessing:!1,sizesList:w,title:_.title,type:_.type,width:_.width,height:_.height,scaleFactor:_.scaleFactor,activeSize:_.activeSize}},watch:{activeSize(t,e){this.onActiveSizeUpdate()}},methods:{open(){this.isProcessing=!1,this.resetForm(),this.$refs.popup.open()},close(){this.isProcessing=!1,this.$refs.popup.close()},onTypeChange(){this.scaleFactor=1,"mobile"==this.type&&(this.scaleFactor=0,this.width&&this.height||(this.activeSize=_.activeSize),this.onActiveSizeUpdate())},onActiveSizeUpdate(){"other"!==this.activeSize&&(this.width=w[this.activeSize]["width"],this.height=w[this.activeSize]["height"])},resetForm(){for(let t in _)this[t]=_[t]},submitForm(){this.isProcessing||this.createProject().then(t=>{var e=p["a"].getNestedVal(t,"data.id");this.createPrototype(e).then(t=>{var s=p["a"].getNestedVal(t,"data.id");this.$router.push({name:"prototype",params:{projectId:e,prototypeId:s}})}).finally(()=>{this.isProcessing=!1})}).catch(t=>{this.isProcessing=!1})},createProject(){return l["a"].Projects.create({title:this.title,archived:0}).then(t=>Promise.resolve(t)).catch(t=>(this.$errResponseHandler(t),Promise.reject(t)))},createPrototype(t){return this.isProcessing=!0,l["a"].Prototypes.create({projectId:t,title:this.$t("Prototype")+" 1",type:this.type,width:this.width,height:this.height,scaleFactor:this.scaleFactor}).then(t=>Promise.resolve(t)).catch(t=>(this.$errResponseHandler(t),Promise.reject(t)))}}},x=$,k=Object(f["a"])(x,b,P,!1,null,null,null),F=k.exports,A=s("11b2");const S=60,T={isLoadingProjects:!1,searchTerm:"",projects:[],currentPage:1,totalProjects:0,archived:0};var N={name:"projects-listing",components:{"project-box":g,"project-create-popup":F,relocator:A["a"]},props:{withFilterBar:{type:Boolean,default:!0}},data(){return Object.assign({},T)},computed:{hasMoreProjects(){return this.totalProjects>this.projects.length},hasActiveFilters(){return this.searchTerm.length!=T.searchTerm||this.archived!=T.archived},searchPlaceholder(){return""===this.archived?this.$t("Search all projects"):1==this.archived?this.$t("Search for archived projects"):this.$t("Search for active projects")},pinnedProjects(){return 1==this.archived?[]:this.projects.filter(t=>!t.isArchived&&t.isPinned)},unpinnedProjects(){return 1==this.archived?this.projects:this.projects.filter(t=>t.isArchived||!t.isPinned)}},beforeMount(){this.loadProjects()},methods:{openCreatePopup(){this.$refs.createPopup&&this.$refs.createPopup.open()},clearSearch(){this.searchTerm="",this.loadProjects()},resetFilters(){this.archived=T.archived,this.searchTerm=T.searchTerm,this.loadProjects()},resetList(){this.projects=T.projects.slice(0),this.totalProjects=T.totalProjects,this.currentPage=T.currentPage},onSearchInputChange(t){this.searchTimeoutId&&clearTimeout(this.searchTimeoutId),this.searchTerm.length?(this.resetList(),this.isLoadingProjects=!0,this.searchTimeoutId=setTimeout(()=>{this.loadProjects()},250)):this.loadProjects()},loadProjects(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e&&this.resetList(),this.isLoadingProjects=!0,l["a"].Projects.getList(t,S,{envelope:!0,"search[archived]":this.withFilterBar?this.archived:T.archived,"search[title]":this.withFilterBar?this.searchTerm:T.searchTerm,sort:"-createdAt"}).then(t=>{var e=u["a"].createInstances(p["a"].getNestedVal(t,"data.response",[]));this.projects=this.projects.concat(e),this.totalProjects=p["a"].getNestedVal(t,"data.headers.x-pagination-total-count",0)<<0,this.currentPage=p["a"].getNestedVal(t,"data.headers.x-pagination-current-page",1)<<0,p["a"].isFunction(s)&&s(t)}).catch(t=>{this.$errResponseHandler(t)}).finally(()=>{this.isLoadingProjects=!1})},onProjectUpdate(t){this.archived!=t.isArchived?this.onProjectDelete(t.id):t.isPinned&&this.$nextTick(()=>{let e=document.querySelector('[data-id="'+t.id+'"]');e&&e.scrollIntoView({block:"nearest"})})},onProjectDelete(t){p["a"].removeByKey(this.projects,"id",t),this.totalProjects--}}},D=N,O=Object(f["a"])(D,c,n,!1,null,null,null),L=O.exports,U={name:"projects",components:{"app-footer":a["a"],"home-sidebar":o["a"],"projects-listing":L},beforeMount(){this.$setDocumentTitle(()=>this.$t("Projects"))}},z=U,I=Object(f["a"])(z,r,i,!1,null,null,null);e["default"]=I.exports}}]);