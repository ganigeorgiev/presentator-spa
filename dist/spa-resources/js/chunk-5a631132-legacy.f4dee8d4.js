(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a631132"],{"11b2":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{ref:"slotWrapper"},[t._t("default")],2)])},r=[],o={name:"relocator",props:{container:{default:"body"}},computed:{containerElem:function(){return"string"===typeof this.container?document.querySelector(this.container):this.container}},mounted:function(){var t=this;if(this.containerElem){var e=this.$refs.slotWrapper;e.parentNode.removeChild(e),this.containerElem.appendChild(e),this.$once("hook:beforeDestroy",(function(){e&&(e.parentNode.removeChild(e),t.$el.appendChild(e))}))}}},s=o,a=i("2877"),c=Object(a["a"])(s,n,r,!1,null,null,null);e["a"]=c.exports},3905:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"popupContainer",staticClass:"popup",class:{active:t.isActive,"is-closing":t.isClosing},attrs:{tabindex:"-1"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])||e.target!==e.currentTarget?null:void(!t.closeOnEsc||t.close())}}},[i("div",{staticClass:"popup-overlay",on:{click:function(e){e.preventDefault(),!t.closeOnOverlay||t.close()}}}),i("div",{staticClass:"popup-panel"},[t.closeBtn?i("span",{staticClass:"popup-close-handle popup-close",on:{click:function(e){return e.preventDefault(),t.close()}}}):t._e(),i("div",{staticClass:"popup-header"},[t._t("header")],2),i("div",{staticClass:"popup-content"},[t._t("content")],2),i("div",{staticClass:"popup-footer"},[t._t("footer")],2)])])},r=[],o={name:"popup",props:{closeOnEsc:{type:Boolean,default:!0},closeOnOverlay:{type:Boolean,default:!0},closeBtn:{type:Boolean,default:!0}},data:function(){return{isActive:!1,isClosing:!1}},methods:{open:function(){var t=this;this.isActive=!0,this.isClosing=!1,this.$nextTick((function(){t.$refs.popupContainer.focus()})),document.body.classList.add("popup-active"),this.$nextTick((function(){var e=t.$el.querySelector("form input");e&&e.focus()}))},close:function(){var t=this;this.isActive&&(this.isClosing=!0,document.body.classList.remove("popup-active"),this.closingTimeoutId&&clearTimeout(this.closingTimeoutId),this.closingTimeoutId=setTimeout((function(){t.isActive=!1,t.isClosing=!1}),300))}}},s=o,a=i("2877"),c=Object(a["a"])(s,n,r,!1,null,null,null);e["a"]=c.exports},"9c86":function(t,e,i){"use strict";i.d(e,"a",(function(){return d}));i("2397");var n=i("d225"),r=i("b0b4"),o=i("2a88"),s=i("4e2b"),a=i("308d"),c=i("6bb5"),l=i("9242"),u=i("dd93");function p(t){var e=f();return function(){var i,n=Object(c["a"])(t);if(e){var r=Object(c["a"])(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Object(a["a"])(this,i)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var d=function(t){Object(s["a"])(i,t);var e=p(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return Object(r["a"])(i,[{key:"load",value:function(t){t=t||{},Object(o["a"])(Object(c["a"])(i.prototype),"load",this).call(this,t),this.title=u["a"].isEmpty(t.title)?"":t.title,this.archived=u["a"].isEmpty(t.archived)?0:t.archived<<0,this.pinned=u["a"].isEmpty(t.pinned)?0:t.pinned<<0,this.featuredScreen=u["a"].isEmpty(t.featuredScreen)?{}:t.featuredScreen}},{key:"getFeaturedScreen",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"original";return this.featuredScreen[t]||this.featuredScreen["original"]||""}},{key:"isArchived",get:function(){return!!this.archived}},{key:"isPinned",get:function(){return!!this.pinned}}]),i}(l["a"])},aef6:function(t,e,i){"use strict";var n=i("5ca1"),r=i("9def"),o=i("d2c8"),s="endsWith",a=""[s];n(n.P+n.F*i("5147")(s),"String",{endsWith:function(t){var e=o(this,t,s),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),c=void 0===i?n:Math.min(r(i),n),l=String(t);return a?a.call(e,l,c):e.slice(c-l.length,c)===l}})},ba5d:function(t,e,i){"use strict";i.d(e,"a",(function(){return m}));i("2397"),i("aef6");var n=i("d225"),r=i("b0b4"),o=i("2a88"),s=i("4e2b"),a=i("308d"),c=i("6bb5"),l=i("9242"),u=i("72a1"),p=i("9c86"),f=i("dd93");function d(t){var e=v();return function(){var i,n=Object(c["a"])(t);if(e){var r=Object(c["a"])(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return Object(a["a"])(this,i)}}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var m=function(t){Object(s["a"])(i,t);var e=d(i);function i(){return Object(n["a"])(this,i),e.apply(this,arguments)}return Object(r["a"])(i,[{key:"load",value:function(t){t=t||{},Object(o["a"])(Object(c["a"])(i.prototype),"load",this).call(this,t),this.projectId=f["a"].isEmpty(t.projectId)?null:t.projectId,this.slug=f["a"].isEmpty(t.slug)?"":t.slug,this.passwordProtected=!!t.passwordProtected,this.allowComments=!!t.allowComments,this.allowGuideline=!!t.allowGuideline,f["a"].isArray(t.prototypes)?this.prototypes=u["a"].createInstances(t.prototypes):this.prototypes=this.prototypes||[],this.project=null,f["a"].isEmpty(t.projectInfo)?t.project&&t.project instanceof p["a"]&&(this.project=t.project):this.project=new p["a"](t.projectInfo)}},{key:"baseUrl",get:function(){var t=f["a"].getNestedVal(window,"location.origin","");return f["a"].getNestedVal(window,"location.href","").indexOf("/#/")>0&&(t+="/#"),t=t.endsWith("/")?t.substring(0,t.length-1):t,t}},{key:"relativeUrl",get:function(){return"/"+this.slug}},{key:"fullUrl",get:function(){return this.baseUrl+this.relativeUrl}},{key:"prototypeIds",get:function(){var t=[];for(var e in this.prototypes)this.prototypes[e].id&&t.push(this.prototypes[e].id);return t}}]),i}(l["a"])},db9e:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("nav",{staticClass:"floating-bar preview-bar",class:{active:t.isActive,"responsive-show-more":t.isResponsiveShowMoreActive}},[i("div",{staticClass:"visibility-toggle",on:{click:function(e){return e.preventDefault(),t.toggle()}}},[i("span",{staticClass:"txt"},[t._v(t._s(t.isActive?t.$t("Hide"):t.$t("Show")))])]),i("div",{staticClass:"nav nav-left"},[t._t("left")],2),i("div",{staticClass:"nav nav-center"},[t.projectLink.allowGuideline?i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("Guideline ({shortcut})",{shortcut:"G"}),expression:"$t('Guideline ({shortcut})', {shortcut: 'G'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.71",value:t.selfClick,expression:"selfClick",modifiers:{71:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-warning",attrs:{to:{name:"preview-guideline",params:{slug:t.projectLink.slug},query:{}},"active-class":"highlight"}},[i("i",{staticClass:"fe fe-book-open"})]):t._e(),i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("Preview mode ({shortcut})",{shortcut:"P"}),expression:"$t('Preview mode ({shortcut})', {shortcut: 'P'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.80",value:t.selfClick,expression:"selfClick",modifiers:{80:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-success",attrs:{to:{name:"preview-prototype",params:Object.assign({},t.$route.params,{slug:t.projectLink.slug,prototypeId:t.activePrototypeId}),query:Object.assign({},t.$route.query,{mode:"preview"})},"exact-active-class":"highlight"}},[i("i",{staticClass:"fe fe-eye"})]),t.projectLink.allowComments?i("router-link",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("Comments mode ({shortcut})",{shortcut:"C"}),expression:"$t('Comments mode ({shortcut})', {shortcut: 'C'})",modifiers:{top:!0}},{name:"shortcut",rawName:"v-shortcut.67",value:t.selfClick,expression:"selfClick",modifiers:{67:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-danger",attrs:{to:{name:"preview-prototype",params:Object.assign({},t.$route.params,{slug:t.projectLink.slug,prototypeId:t.activePrototypeId}),query:Object.assign({},t.$route.query,{mode:"comments"})},"exact-active-class":"highlight"}},["preview-prototype"==t.$route.name&&t.totalActiveScreenUnresolvedComments>0?i("span",{staticClass:"pin",class:{animate:t.totalActiveScreenUnreadComments>0}},[t._v(" "+t._s(t.totalActiveScreenUnresolvedComments)+" ")]):t._e(),i("i",{staticClass:"fe fe-message-circle"})]):t._e(),i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("More tools"),expression:"$t('More tools')",modifiers:{top:!0}}],staticClass:"ctrl-item ctrl-item-circle ctrl-item-responsive-show-more responsive-only",on:{click:function(e){return e.preventDefault(),t.responsiveShowMore(e)}}},[i("i",{staticClass:"fe fe-more-horizontal"})])],1),i("div",{staticClass:"nav nav-right"},[t._t("right"),i("div",{staticClass:"ctrl-item ctrl-item-circle ctrl-item-settings"},[i("div",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("Preview info"),expression:"$t('Preview info')",modifiers:{top:!0}}]},[i("i",{staticClass:"fe fe-info"})]),i("preview-info-popover",{ref:"projectInfoPopover",staticClass:"transform-bottom-right",attrs:{project:t.project}})],1),i("div",{staticClass:"flex-fill-block responsive-only"}),i("div",{staticClass:"ctrl-item ctrl-item-circle ctrl-item-responsive-hide-more responsive-only",on:{click:function(e){return e.preventDefault(),t.responsiveHideMore(e)}}},[i("i",{staticClass:"fe fe-x"})])],2)])},r=[],o=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),s=i("2f62"),a=i("0abc"),c=i("3d48"),l=i("9c86"),u=i("ba5d"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("toggler",{staticClass:"popover popover-sm preview-info-popover no-clip",attrs:{hideOnChildClick:!1}},[i("div",{staticClass:"content txt-center"},[i("p",[i("strong",[t._v(t._s(t.project.title))])]),t.$getAppConfig("VUE_APP_PROJECT_URL")?i("p",{staticClass:"txt-hint txt-small"},[i("i18n",{attrs:{path:"Presented with {projectLink}."}},[i("a",{attrs:{slot:"projectLink",href:t.$getAppConfig("VUE_APP_PROJECT_URL"),target:"_blank",rel:"noopener"},slot:"projectLink"},[t._v("Presentator")])])],1):t._e(),i("div",{staticClass:"clearfix m-t-small"}),i("language-select"),t.$getAppConfig("VUE_APP_SHOW_SPAM_REPORT")<<0?[i("div",{staticClass:"clearfix m-t-small"}),i("small",{staticClass:"link-danger link-fade",on:{click:function(e){return e.preventDefault(),t.openReportPopup(e)}}},[i("i",{staticClass:"fe fe-flag m-r-5"}),i("span",{staticClass:"txt"},[t._v(t._s(t.$t("Report")))])])]:t._e()],2),i("relocator",[i("report-popup",{ref:"reportPopup"})],1)],1)},f=[],d=i("11b2"),v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm()}}},[i("popup",{ref:"popup",staticClass:"popup-sm",scopedSlots:t._u([{key:"header",fn:function(){return[i("h4",{staticClass:"title"},[t._v(t._s(t.$t("Report this project for spam or abusive content")))])]},proxy:!0},{key:"content",fn:function(){return[i("form-field",{attrs:{name:"details"}},[i("label",{attrs:{for:"report_details"}},[t._v(t._s(t.$t("Additional details")))]),i("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.details,expression:"details",modifiers:{trim:!0}}],attrs:{id:"report_details"},domProps:{value:t.details},on:{input:function(e){e.target.composing||(t.details=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})])]},proxy:!0},{key:"footer",fn:function(){return[i("button",{staticClass:"btn btn-light-border",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.close()}}},[i("span",{staticClass:"txt"},[t._v(t._s(t.$t("Cancel")))])]),i("button",{staticClass:"btn btn-primary btn-cons btn-loader",class:{"btn-loader-active":t.isProcessing},attrs:{type:"submit"}},[i("span",{staticClass:"txt"},[t._v(t._s(t.$t("Report")))])])]},proxy:!0}])})],1)},m=[],h=(i("a481"),i("f744")),g=i("3905");function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function b(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var C={name:"report-popup",components:{popup:g["a"]},data:function(){return{isProcessing:!1,details:""}},computed:b({},Object(s["d"])({previewToken:function(t){return t.preview.previewToken}})),methods:{open:function(){this.resetForm(),this.$refs.popup.open(),this.$emit("open")},close:function(){this.$refs.popup.close(),this.$emit("close")},resetForm:function(){this.details=""},submitForm:function(){var t=this;this.isProcessing||(this.isProcessing=!0,h["a"].Previews.report(this.previewToken,this.details).then((function(e){t.$toast(t.$t("Thank you, we will investigate and remove the project if found inappropriate."),"success",6e3),t.$router.replace({name:"home"})})).catch((function(e){t.$errResponseHandler(e)})).finally((function(){t.isProcessing=!1})))}}},_=C,O=i("2877"),j=Object(O["a"])(_,v,m,!1,null,null,null),w=j.exports,P=i("f7ef"),k={name:"preview-info-popover",components:{relocator:d["a"],"report-popup":w,"language-select":P["a"]},props:{project:{type:l["a"],required:!0}},methods:{openReportPopup:function(){this.$refs.reportPopup&&this.$refs.reportPopup.open()}}},S=k,$=Object(O["a"])(S,p,f,!1,null,null,null),E=$.exports;function A(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function x(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?A(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var R={name:"preview-bar",components:{"preview-info-popover":E},props:{project:{type:l["a"],required:!0},projectLink:{type:u["a"],required:!0}},data:function(){return{isActive:!0,isResponsiveShowMoreActive:!1}},computed:x(x(x({},Object(s["d"])({activePrototypeId:function(t){return t.prototypes.activePrototypeId},activeScreenId:function(t){return t.screens.activeScreenId}})),Object(s["c"])({getCommentsForScreen:"comments/getCommentsForScreen",getUnreadCommentsForScreen:"notifications/getUnreadCommentsForScreen"})),{},{activeScreenComments:function(){return this.getCommentsForScreen(this.activeScreenId)},totalActiveScreenComments:function(){return this.activeScreenComments.length},activeScreenResolvedComments:function(){return this.getCommentsForScreen(this.activeScreenId,"resolved")},totalActiveScreenResolvedComments:function(){return this.activeScreenResolvedComments.length},activeScreenUnreadComments:function(){return this.getUnreadCommentsForScreen(this.activeScreenId)},totalActiveScreenUnreadComments:function(){return this.activeScreenUnreadComments.length},totalActiveScreenUnresolvedComments:function(){return this.totalActiveScreenComments-this.totalActiveScreenResolvedComments}}),mounted:function(){var t=c["a"].getItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0);t?this.show():this.hide()},methods:{show:function(){this.isActive=!0,document.body.classList.remove("hide-distractions"),c["a"].setItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!0),this.responsiveHideMore(),this.$emit("show")},hide:function(){this.isActive=!1,document.body.classList.add("hide-distractions"),c["a"].setItem(a["a"].get("VUE_APP_PREVIEW_BAR_VISIBLITY_STORAGE_KEY"),!1),this.responsiveHideMore(),this.$emit("hide")},toggle:function(){this.isActive?this.hide():this.show()},responsiveShowMore:function(){this.isResponsiveShowMoreActive=!0},responsiveHideMore:function(){this.isResponsiveShowMoreActive=!1},goToGuideline:function(){this.$router.push({name:"preview-guideline",params:{slug:this.projectLink.slug}})},selfClick:function(t,e){e&&e.click()}}},I=R,L=Object(O["a"])(I,n,r,!1,null,null,null);e["a"]=L.exports},f7ef:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"languages-select",class:{loading:t.isChanging}},[i("div",{staticClass:"selected-language"},[i("span",{staticClass:"txt language-title"},[t._v(t._s(t.activeLanguageTitle))]),t._v(" ("),i("span",{staticClass:"txt language-code"},[t._v(t._s(t.activeLanguageCode))]),t._v(") ")]),i("toggler",{staticClass:"dropdown dropdown-sm"},t._l(t.languages,(function(e,n){return i("div",{key:"language_"+n,staticClass:"dropdown-item",class:{active:t.activeLanguageCode==n},on:{click:function(e){return e.preventDefault(),t.changeLanguage(n)}}},[i("small",{staticClass:"label language-code m-r-5",class:t.activeLanguageCode==n?"label-transp-primary":"label-light-border"},[t._v(t._s(n))]),i("span",{staticClass:"txt language-title"},[t._v(t._s(e))])])})),0)],1)},r=[],o=i("9225"),s={name:"languages-select",data:function(){return{isChanging:!1,languages:Object.assign({},o["c"])}},watch:{"$i18n.locale":function(t,e){"function"===typeof document._titleFunc&&this.$setDocumentTitle(document._titleFunc)}},computed:{activeLanguageCode:function(){return this.$i18n.locale},activeLanguageTitle:function(){return this.languages[this.activeLanguageCode]}},methods:{changeLanguage:function(t){var e=this;this.isChanging=!0,Object(o["a"])(t).finally((function(){e.isChanging=!1}))}}},a=s,c=i("2877"),l=Object(c["a"])(a,n,r,!1,null,null,null);e["a"]=l.exports}}]);